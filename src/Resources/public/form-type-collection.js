(()=>{var e=function(e){document.querySelectorAll("button.field-collection-add-button").forEach((function(e){var o=e.closest("[data-ea-collection-field]");o&&!o.classList.contains("processed")&&t.handleAddButton(e,o)}))};window.addEventListener("DOMContentLoaded",e),document.addEventListener("ea.collection.item-added",e);var t={handleAddButton:function(e,t){e.addEventListener("click",(function(){var e=parseInt(t.dataset.numItems),o=this.parentElement.querySelector(".collection-empty");null!==o&&o.remove();var a=t.dataset.formTypeNamePlaceholder,n=new RegExp(a+"label__","g"),d=new RegExp(a,"g"),c=t.dataset.prototype.replace(n,e).replace(d,e);t.dataset.numItems=++e;var l=t.classList.contains("field-array"),r=l?"legend.col-form-label + .form-widget > div":".form-widget .accordion > div",i=t.querySelector(r);if(i.insertAdjacentHTML("beforeend",c),!l){var s=i.querySelectorAll(".accordion-item"),u=s[s.length-1];u.querySelector(".accordion-button").classList.remove("collapsed"),u.querySelector(".accordion-collapse").classList.add("show")}document.dispatchEvent(new Event("ea.collection.item-added"))})),t.classList.add("processed")}}})();